# 如何判断对象可以被回收

在Java中，对象是否可以被回收通常由垃圾回收器决定。垃圾回收器使用一种称为"**可达性分析**"的算法来确定对象是否可被回收。可达性分析是指如果一个对象无法从任何**GC Roots**直接或间接访问到，它就被认为是不可达的，可以被垃圾回收。
GC Roots是一组特殊的引用，它们被认为是程序中可访问对象的**起始点**，即从这些引用开始，可以追踪到所有仍然被程序引用的对象。
GC Roots通常包括以下几种类型的引用：

1. **局部变量引用**：在方法中定义的局部变量，包括方法的参数和局部变量，通常被视为GC Roots。这些变量的引用指向了对象的实例。
2. **活动线程引用**：正在运行的线程的引用通常被视为GC Roots。线程本地存储中的对象也是如此。
3. **静态变量引用**：静态变量是类的一部分，它们的引用也被视为GC Roots。静态变量存在于类加载器的内存中。
4. **JNI 引用**：通过Java Native Interface（JNI）创建的本地代码引用也可以被视为GC Roots。这些引用连接了Java堆内存和本地代码的内存。
5. **虚拟机引导类加载器**：虚拟机内部使用的类加载器引用也是GC Roots。它们通常是一些核心类或库。


> 原文: <https://www.yuque.com/tulingzhouyu/db22bv/hb9fabyde6oz15gg>